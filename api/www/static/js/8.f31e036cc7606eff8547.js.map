{"version":3,"sources":["webpack:///src/pages/specs/components/list.vue","webpack:///./src/pages/specs/components/list.vue?1852","webpack:///./src/pages/specs/components/list.vue","webpack:///src/pages/specs/components/form.vue","webpack:///./src/pages/specs/components/form.vue?2c28","webpack:///./src/pages/specs/components/form.vue","webpack:///src/pages/specs/specs.vue","webpack:///./src/pages/specs/specs.vue?ad21","webpack:///./src/pages/specs/specs.vue"],"names":["list","data","computed","extends_default","Object","vuex_esm","total","size","methods","reqList","reqTotal","changePage","del","id","_this","this","console","log","ajax_all","then","res","code","utils_alert","msg","editInfo","$emit","mounted","components_list","render","_vm","_h","$createElement","_c","_self","staticStyle","width","margin-bottom","attrs","row-key","border","tree-props","children","prop","label","sortable","_v","scopedSlots","_u","key","fn","scope","_l","row","item","index","type","_s","status","disabled","on","click","$event","confirm","background","layout","page-size","current-change","staticRenderFns","specs_components_list","__webpack_require__","normalizeComponent","ssrContext","components_form","props","user","specsname","attrsArr","value","checkProps","promise_default","a","resolve","reject","some","vaule","cncel","info","show","isshow","empty","addAttr","push","delAttr","splice","add","_this2","stringify_default","map","getOne","_this3","JSON","parse","edit","_this4","specs_components_form","title","visible","update:visible","$set","closed","model","staticClass","callback","$$v","expression","label-width","active-value","inactive-value","slot","specs","addForm","$refs","form","components","vList","vForm","form_normalizeComponent","specs_specs","ref","specs_Component","specs_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/8.f31e036cc7606eff8547.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-table\r\n      :data=\"list\"\r\n      style=\"width: 100%; margin-bottom: 20px\"\r\n      row-key=\"id\"\r\n      border\r\n      :tree-props=\"{ children: 'children' }\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"规格编号\" sortable> </el-table-column>\r\n\r\n      <el-table-column prop=\"specsname\" label=\"规格名称\" sortable>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"规格属性\" sortable>\r\n        <template slot-scope=\"scope\">\r\n          <el-tag\r\n            type=\"success\"\r\n            v-for=\"(item, index) in scope.row.attrs\"\r\n            :key=\"index\"\r\n            >{{ item }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"状态\" sortable>\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" v-if=\"scope.row.status === 1\"\r\n            >启用</el-button\r\n          >\r\n          <el-button type=\"info\" v-else disabled>禁用</el-button>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" @click=\"editInfo(scope.row.id)\"\r\n            >编辑</el-button\r\n          >\r\n          <del-btn type=\"danger\" @confirm=\"del(scope.row.id)\">删除</del-btn>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      :page-size=\"size\"\r\n      @current-change=\"changePage\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n  <script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { specsDel } from \"../../../utils/ajax-all\";\r\nimport { successAlert } from \"../../../utils/alert\";\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      list: \"specs/list\",\r\n      total: \"specs/total\",\r\n      size: \"specs/size\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      reqList: \"specs/getSpecsList\",\r\n      reqTotal: \"specs/getSpecsTotal\",\r\n      changePage:'specs/changePage'\r\n    }),\r\n    //删除\r\n    del(id) {\r\n      console.log(this.list);\r\n      specsDel(id).then((res) => {\r\n        if (res.data.code === 200) {\r\n          successAlert(res.data.msg);\r\n          this.reqList();\r\n        }\r\n      });\r\n    },\r\n    //编辑获取一条详情\r\n    editInfo(id) {\r\n      this.$emit(\"editInfo\", id);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.reqList();\r\n    this.reqTotal();\r\n  },\r\n};\r\n</script>\r\n\r\n  <style scoped>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"data\":_vm.list,\"row-key\":\"id\",\"border\":\"\",\"tree-props\":{ children: 'children' }}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"规格编号\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsname\",\"label\":\"规格名称\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格属性\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.attrs),function(item,index){return _c('el-tag',{key:index,attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(item)+\"\\n        \")])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status === 1)?_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"启用\")]):_c('el-button',{attrs:{\"type\":\"info\",\"disabled\":\"\"}},[_vm._v(\"禁用\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editInfo(scope.row.id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('del-btn',{attrs:{\"type\":\"danger\"},on:{\"confirm\":function($event){return _vm.del(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.size},on:{\"current-change\":_vm.changePage}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-3174ccff\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3174ccff\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3174ccff\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3174ccff\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/components/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-dialog\r\n      :title=\"info.isshow ? '添加规格' : '编辑规格'\"\r\n      :visible.sync=\"info.show\"\r\n      @closed=\"cncel()\"\r\n    >\r\n      <el-form :model=\"user\">\r\n        {{ user }}\r\n        <el-form-item label=\"规格名称\">\r\n          <div class=\"specsBog\">\r\n            <el-input v-model=\"user.specsname\"></el-input>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          label=\"规格属性\"\r\n          v-for=\"(item, index) in attrsArr\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"specsBog\">\r\n            <el-input v-model=\"item.value\"></el-input>\r\n            <el-button\r\n              type=\"primary\"\r\n              label-width=\"80px\"\r\n              v-if=\"index == 0\"\r\n              @click=\"addAttr\"\r\n              >新增规格属性</el-button\r\n            ><el-button\r\n              type=\"danger\"\r\n              label-width=\"30px\"\r\n              v-else\r\n              @click=\"delAttr(index)\"\r\n              >删除</el-button\r\n            >\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <!-- 状态滑块 -->\r\n        <el-form-item label=\"状态\" label-width=\"100px\">\r\n          <el-switch\r\n            v-model=\"user.status\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"2\"\r\n          ></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <!-- 关闭 添加 编辑 按钮 -->\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"info\" @click=\"cncel()\">取消</el-button>\r\n        <el-button type=\"primary\" v-if=\"info.isshow\" @click=\"add()\"\r\n          >添加</el-button\r\n        >\r\n        <el-button type=\"primary \" v-else @click=\"edit()\">编辑</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n  <script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { specsAdd, specsInfo, specsEdit } from \"@/utils/ajax-all\";\r\nimport { errorAlter, successAlert } from \"../../../utils/alert\";\r\n\r\nexport default {\r\n  props: [\"info\"],\r\n  data() {\r\n    return {\r\n      user: {\r\n        specsname: \"\", //商品规格名称\r\n        attrs: \"[]\", //商品规格属性值\r\n        status: 1, //状态\r\n      },\r\n      attrsArr: [{ value: \"\" }],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      list: \"specs/list\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      reqList: \"specs/getSpecsList\",\r\n      reqTotal: \"specs/getSpecsTotal\",\r\n    }),\r\n    //封装验证\r\n    checkProps() {\r\n      return new Promise((resolve, reject) => {\r\n        if (!this.user.specsname) {\r\n          errorAlter(\"商品规格名称不能为空\");\r\n          return;\r\n        }\r\n        if (this.attrsArr.some((item) => item.vaule === \"\")) {\r\n          errorAlter(\"请输入所有的规格属性\");\r\n          return;\r\n        }\r\n        resolve();\r\n      });\r\n    },\r\n    //取消\r\n    cncel() {\r\n      this.info.show = false;\r\n      if (!this.info.isshow) {\r\n        this.empty();\r\n      }\r\n    },\r\n    //新增规格属性\r\n    addAttr() {\r\n      this.attrsArr.push({ value: \"\" });\r\n    },\r\n    //删除规格属性\r\n    delAttr(index) {\r\n      this.attrsArr.splice(index, 1);\r\n    },\r\n    //清空\r\n    empty() {\r\n      this.user = {\r\n        specsname: \"\", //商品规格名称\r\n        attrs: \"[]\", //商品规格属性值\r\n        status: 1, //状态\r\n      };\r\n      this.attrsArr = [{ value: \"\" }];\r\n    },\r\n    //添加数据\r\n    add() {\r\n      this.checkProps().then(() => {\r\n        this.user.attrs = JSON.stringify(\r\n          this.attrsArr.map((item) => item.value)\r\n        );\r\n        //   发送ajax请求\r\n        specsAdd(this.user).then((res) => {\r\n          if (res.data.code === 200) {\r\n            successAlert(res.data.msg);\r\n            this.cncel();\r\n            this.reqList();\r\n            this.empty();\r\n            this.reqTotal();\r\n          }\r\n        });\r\n      });\r\n    },\r\n    //获取一条数据详情\r\n    getOne(id) {\r\n      specsInfo(id).then((res) => {\r\n        if (res.data.code === 200) {\r\n          this.user = res.data.list[0];\r\n          this.user.attrs = JSON.parse(this.user.attrs);\r\n          this.attrsArr = this.user.attrs.map((item) => ({ value: item }));\r\n        }\r\n      });\r\n    },\r\n    // 编辑\r\n    edit() {\r\n      this.checkProps().then(() => {\r\n        this.user.attrs = JSON.stringify(\r\n          this.attrsArr.map((item) => item.value)\r\n        );\r\n        specsEdit(this.user).then((res) => {\r\n          if (res.data.code === 200) {\r\n            this.cncel();\r\n            successAlert(res.data.msg);\r\n            this.reqList();\r\n          }\r\n        });\r\n      });\r\n    },\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n  <style scoped>\r\n.specsBog {\r\n  display: flex;\r\n}\r\n.specsBog .el-input {\r\n  flex: 1;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/components/form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.info.isshow ? '添加规格' : '编辑规格',\"visible\":_vm.info.show},on:{\"update:visible\":function($event){return _vm.$set(_vm.info, \"show\", $event)},\"closed\":function($event){return _vm.cncel()}}},[_c('el-form',{attrs:{\"model\":_vm.user}},[_vm._v(\"\\n      \"+_vm._s(_vm.user)+\"\\n      \"),_c('el-form-item',{attrs:{\"label\":\"规格名称\"}},[_c('div',{staticClass:\"specsBog\"},[_c('el-input',{model:{value:(_vm.user.specsname),callback:function ($$v) {_vm.$set(_vm.user, \"specsname\", $$v)},expression:\"user.specsname\"}})],1)]),_vm._v(\" \"),_vm._l((_vm.attrsArr),function(item,index){return _c('el-form-item',{key:index,attrs:{\"label\":\"规格属性\"}},[_c('div',{staticClass:\"specsBog\"},[_c('el-input',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}),_vm._v(\" \"),(index == 0)?_c('el-button',{attrs:{\"type\":\"primary\",\"label-width\":\"80px\"},on:{\"click\":_vm.addAttr}},[_vm._v(\"新增规格属性\")]):_c('el-button',{attrs:{\"type\":\"danger\",\"label-width\":\"30px\"},on:{\"click\":function($event){return _vm.delAttr(index)}}},[_vm._v(\"删除\")])],1)])}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":\"100px\"}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":2},model:{value:(_vm.user.status),callback:function ($$v) {_vm.$set(_vm.user, \"status\", $$v)},expression:\"user.status\"}})],1)],2),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.cncel()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.info.isshow)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"添加\")]):_c('el-button',{attrs:{\"type\":\"primary \"},on:{\"click\":function($event){return _vm.edit()}}},[_vm._v(\"编辑\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-31f62361\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/components/form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31f62361\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./form.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31f62361\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31f62361\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/components/form.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <el-button type=\"primary\" @click=\"addForm()\">添加</el-button>\r\n    <!-- 引入list -->\r\n    <v-list @editInfo=\"editInfo($event)\"></v-list>\r\n    <!-- 引入form -->\r\n    <v-form :info=\"info\" ref=\"form\"></v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport vList from \"./components/list\";\r\nimport vForm from \"./components/form\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      info: {\r\n        show: false,\r\n        isshow: true,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 添加 按钮\r\n    addForm() {\r\n      this.info.show = true;\r\n      this.info.isshow = true;\r\n    },\r\n    //获取一条数据详情\r\n    editInfo(id) {\r\n      this.info.isshow = false;\r\n      this.info.show = true;\r\n      this.$refs.form.getOne(id);\r\n    },\r\n  },\r\n  components: {\r\n    vList,\r\n    vForm,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-button {\r\n  margin: 15px 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/specs/specs.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addForm()}}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('v-list',{on:{\"editInfo\":function($event){return _vm.editInfo($event)}}}),_vm._v(\" \"),_c('v-form',{ref:\"form\",attrs:{\"info\":_vm.info}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-7b482e56\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/specs/specs.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b482e56\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./specs.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./specs.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./specs.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b482e56\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./specs.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b482e56\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/specs/specs.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}