webpackJsonp([6],{L7Ct:function(t,e){},MWAP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4YfN"),o=n.n(i),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.list,"row-key":"id",border:"","tree-props":{children:"children"}}},[n("el-table-column",{attrs:{prop:"id",label:"菜单编号",sortable:"",width:"130"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"菜单名称",sortable:"",width:"130"}}),t._v(" "),n("el-table-column",{attrs:{prop:"icon",label:"菜单图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("i",{class:t.row.icon})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"菜单地址"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",[t._v(t._s(e.row.url))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?n("el-button",{attrs:{type:"primary"}},[t._v("启用")]):n("el-button",{attrs:{type:"info",disabled:""}},[t._v("禁用")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return t.remove(e.row.id)}}},[t._v("删除")])]}}])})],1)],1)},staticRenderFns:[]};var s=n("C7Lr")({props:["list"],data:function(){return{}},methods:{edit:function(t){this.$emit("edit",t)},remove:function(t){this.$emit("remove",t)}}},l,!1,function(t){n("L7Ct")},"data-v-425234dd",null).exports,r=n("rVsN"),a=n.n(r),c=n("wliq"),u=n("YaEn"),f=n("7UU8"),d=n("OAll"),p={props:["info","list"],data:function(){return{user:{pid:"",title:"",icon:"",type:1,url:"",status:1},iCon:["el-icon-s-management","el-icon-s-promotion","el-icon-coin","el-icon-office-building","el-icon-coordinate","el-icon-brush"],indexRouter:u.b}},methods:o()({checkProps:function(){var t=this;return new a.a(function(e,n){t.user.title?t.user.pid?e():Object(c.a)("请选择上级菜单"):Object(c.a)("菜单名称不能为空")})}},Object(d.b)({reqList:"getMenuListAction"}),{changepid:function(){0===this.user.pid?this.user.type=1:this.user.type=2},cncel:function(){this.$emit("cncel"),this.empty()},add:function(){var t=this;this.checkProps().then(function(){Object(f.i)(t.user).then(function(e){200===e.data.code&&(Object(c.b)(e.data.msg),t.cncel(),t.$emit("init"),t.reqList(),t.empty())})})},menuListOne:function(t){var e=this;Object(f.k)(t).then(function(n){e.user=n.data.list,e.user.id=t})},edit:function(){var t=this;this.checkProps().then(function(){Object(f.g)(t.user).then(function(e){200===e.data.code&&(Object(c.b)(e.data.msg),t.cncel(),t.reqList())})})},empty:function(){this.user={pid:0,title:"",icon:"",type:1,url:"",status:1}}})},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dialog",{attrs:{title:t.info.isShow?"添加菜单":"编辑菜单",visible:t.info.show},on:{"update:visible":function(e){return t.$set(t.info,"show",e)},closed:t.cncel}},[n("el-form",{attrs:{model:t.user}},[n("el-form-item",{attrs:{label:"菜单名称","label-width":"100px"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.user.title,callback:function(e){t.$set(t.user,"title",e)},expression:"user.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"上级菜单","label-width":"100px"}},[n("el-select",{on:{change:t.changepid},model:{value:t.user.pid,callback:function(e){t.$set(t.user,"pid",e)},expression:"user.pid"}},[n("el-option",{attrs:{value:0,label:"顶级菜单"}}),t._v(" "),t._l(t.list,function(t){return n("el-option",{key:t.id,attrs:{value:t.id,label:t.title}})})],2)],1),t._v(" "),n("el-form-item",{attrs:{label:"菜单类型","label-width":"100px"}},[n("el-radio",{attrs:{label:1,disabled:""},model:{value:t.user.type,callback:function(e){t.$set(t.user,"type",e)},expression:"user.type"}},[t._v("菜单")]),t._v(" "),n("el-radio",{attrs:{label:2,disabled:""},model:{value:t.user.type,callback:function(e){t.$set(t.user,"type",e)},expression:"user.type"}},[t._v("目录")])],1),t._v(" "),n("el-form-item",{attrs:{label:"菜单图标","label-width":"100px"}},[n("el-select",{model:{value:t.user.icon,callback:function(e){t.$set(t.user,"icon",e)},expression:"user.icon"}},t._l(t.iCon,function(e){return n("el-option",{key:e,attrs:{value:e}},[n("i",{class:e},[t._v(" "+t._s("  "+e))])])}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"菜单地址","label-width":"100px"}},[n("el-select",{model:{value:t.user.url,callback:function(e){t.$set(t.user,"url",e)},expression:"user.url"}},t._l(t.indexRouter,function(t){return n("el-option",{key:t.path,attrs:{value:"/"+t.path,label:t.name+"-/"+t.path}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"状态","label-width":"100px"}},[n("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.user.status,callback:function(e){t.$set(t.user,"status",e)},expression:"user.status"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"info"},on:{click:t.cncel}},[t._v("取消")]),t._v(" "),t.info.isShow?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add()}}},[t._v("添加")]):n("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("编辑")])],1)],1)],1)},staticRenderFns:[]};var b=n("C7Lr")(p,v,!1,function(t){n("T7f1")},"data-v-3b12c8f3",null).exports,m={computed:o()({},Object(d.c)({newList:"menu/list"})),data:function(){return{list:this.newList,info:{show:!1,isShow:!0}}},methods:o()({},Object(d.b)({reqList:"menu/getMenuListAction"}),{cncel:function(){this.info.show=!1},init:function(){var t=this;Object(f.j)().then(function(e){t.list=e.data.list})},getEdit:function(t){this.info.show=!0,this.info.isShow=!1,this.$refs.form.menuListOne(t)},remove:function(t){var e=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(function(){Object(f.D)(t).then(function(t){Object(c.b)(t.data.msg),e.init(),e.reqList()})}).catch(function(){})},fromadd:function(){this.init()}}),mounted:function(){this.init()},components:{vList:s,vForm:b}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.info.show=!0,t.info.isShow=!0}}},[t._v("添加")]),t._v(" "),n("v-list",{attrs:{list:t.list},on:{edit:function(e){return t.getEdit(e)},remove:function(e){return t.remove(e)}}}),t._v(" "),n("v-form",{ref:"form",attrs:{info:t.info,list:t.list},on:{cncel:t.cncel,init:t.fromadd}})],1)},staticRenderFns:[]};var _=n("C7Lr")(m,h,!1,function(t){n("tyEv")},"data-v-ea0ff74c",null);e.default=_.exports},T7f1:function(t,e){},tyEv:function(t,e){}});
//# sourceMappingURL=6.c5a153bf8ad6b7cbc636.js.map